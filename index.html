<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Transformaciones Lineales de Imágenes — Demo paso a paso</title>
  <link rel="stylesheet" href="style.css"/>
  <!-- Evita 404 del favicon -->
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>
  <header>
    <h1>Transformaciones Lineales de Imágenes</h1>
    <p class="subtitle">Rotación, Escalamiento, Traslación, Reflexión, Escala de grises y Negativo</p>
  </header>

  <main>
    <!-- Panel izquierdo: carga + controles -->
    <section class="panel card">
      <div class="uploader" id="drop-area">
        <p><strong>Arrastra</strong> una imagen aquí o <u>haz clic</u> para seleccionarla</p>
        <input type="file" id="fileInput" accept="image/*" hidden/>
      </div>

      <div class="controls">
        <label for="transformSelect">Transformación:</label>
        <select id="transformSelect">
          <option value="rotate">Rotación</option>
          <option value="scale">Escalamiento</option>
          <option value="translate">Traslación</option>
          <option value="reflectX">Reflexión Horizontal</option>
          <option value="reflectY">Reflexión Vertical</option>
          <option value="grayscale">Escala de grises (filtro)</option>
          <option value="negative">Negativo (filtro)</option>
        </select>

        <div id="parametros">
          <div id="angleControl" class="param">
            <label>Ángulo (°):</label>
            <input type="number" id="angleInput" value="30" step="1"/>
          </div>

          <div id="scaleControl" class="param hidden two">
            <div>
              <label>Escala X</label>
              <input type="number" id="scaleXInput" value="1.2" step="0.1"/>
            </div>
            <div>
              <label>Escala Y</label>
              <input type="number" id="scaleYInput" value="1.2" step="0.1"/>
            </div>
          </div>

          <div id="translateControl" class="param hidden two">
            <div>
              <label>Desplazamiento X</label>
              <input type="number" id="txInput" value="50" step="1"/>
            </div>
            <div>
              <label>Desplazamiento Y</label>
              <input type="number" id="tyInput" value="30" step="1"/>
            </div>
          </div>
        </div>

        <div class="buttons">
          <button id="resetBtn" class="ghost">Restaurar imagen</button>
        </div>

        <hr/>

        <h3>Modo guiado</h3>
        <div class="wizard-buttons two-cols">
          <button id="prevStepBtn">Anterior</button>
          <button id="nextStepBtn" class="primary">Siguiente</button>
        </div>
      </div>
    </section>

    <!-- Centro: canvas principal -->
    <section class="stage card">
      <canvas id="canvas"></canvas>
      <div id="matrixInfo" class="info"></div>
    </section>

    <!-- Derecha: demo del píxel (tip + zoom + cuentas claras) -->
    <section class="right card">
      <div class="important-tip">Haz clic en el <b>canvas</b> para elegir el píxel que vamos a explicar.</div>
      <h3>Demo del píxel (explicación clara)</h3>
      <canvas id="zoomCanvas" width="180" height="180"></canvas>
      <div id="mathPanel" class="math"></div>
    </section>
  </main>

  <footer>
    <span>Proyecto integrador — Transformaciones Lineales</span>
  </footer>

  <!-- Módulo principal -->
  <script type="module" src="main.js"></script>
</body>
</html>
